# -*- coding: utf-8; mode: tcl; tab-width: 4; indent-tabs-mode: nil; c-basic-offset: 4 -*- vim:fenc=utf-8:ft=tcl:et:sw=4:ts=4:sts=4

PortSystem              1.0
PortGroup               cmake 1.1
PortGroup               github 1.0

github.setup            nislab gensync 1.0.2 v
git.branch              1.0.2

name                    gensync
version                 1.0
revision                0

categories              network dev
platforms               darwin
license                 GPL-3
maintainers             {@trachten bu.edu:trachten} openmaintainer

description             Gensync: a library for network syncing
long_description        Gensync is a library that uses many different syncing \
                        algorithms to sync data between two nodes in a network. \
                        These algorithms include IBLTs, CPISyncs, HashSyncs, Cuckoo Syncs, and more.

homepage                https://github.com/nislab/gensync/

fetch.type              git

post-fetch {
    system -W ${worksrcpath} "git submodule update --init --recursive"
}

checksums               rmd160  46b27923ea571a9aa01e1e00c0c469af366ec6e8 \
                        sha256  4c4ec60f186750d6eda03ec012b68a3a08e6ea791a987f5b1e85d73a687398b0 \
                        size    198540

depends_build-append    port:cppunit

depends_lib             port:ntl

cmake.out_of_source     yes

post-destroot {
    system "mkdir ${destroot}${prefix}/share/doc/${name}"
    xinstall -m 0644 ${worksrcpath}/README.md \
                     ${destroot}${prefix}/share/doc/${name}
    xinstall -m 0644 ${worksrcpath}/LICENSE \
                     ${destroot}${prefix}/share/doc/${name}
    xinstall -m 0644 ${worksrcpath}/CITATION.cff \
                     ${destroot}${prefix}/share/doc/${name}
}
